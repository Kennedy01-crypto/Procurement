{% extends "base.html" %} {% block title %}Login{% endblock %} {% block content
%}
<div
  class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"
>
  <div class="max-w-md w-full space-y-8">
    <div>
      <div class="flex justify-center">
        <i data-lucide="building-2" class="w-16 h-16 text-green-600"></i>
      </div>
      <h2 class="mt-6 text-center text-3xl font-extrabold text-gray-900">
        Sign in to your account
      </h2>
      <p class="mt-2 text-center text-sm text-gray-600">
        Nairobi City County Procurement System
      </p>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %} {% for category, message in messages %}
    <div class="rounded-md bg-{{ category }}-50 p-4">
      <div class="flex">
        <div class="flex-shrink-0">
          {% if category == 'success' %}
          <i data-lucide="check-circle-2" class="h-5 w-5 text-green-500"></i>
          {% elif category == 'error' %}
          <i data-lucide="alert-circle" class="h-5 w-5 text-red-500"></i>
          {% else %}
          <i data-lucide="info" class="h-5 w-5 text-blue-500"></i>
          {% endif %}
        </div>
        <div class="ml-3">
          <p class="text-sm font-medium text-{{ category }}-800">
            {{ message }}
          </p>
        </div>
      </div>
    </div>
    {% endfor %} {% endif %} {% endwith %}

    <form
      class="mt-8 space-y-6"
      method="POST"
      action="{{ url_for('auth.login') }}"
    >
      {{ form.hidden_tag() }}
      <div class="rounded-md shadow-sm -space-y-px">
        <div>
          {{ form.email.label(class="sr-only") }} {{
          form.email(class="appearance-none rounded-none relative block w-full
          px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900
          rounded-t-md focus:outline-none focus:ring-green-500
          focus:border-green-500 focus:z-10 sm:text-sm", placeholder="Email
          address") }} {% for error in form.email.errors %}
          <p class="mt-2 text-sm text-red-600">{{ error }}</p>
          {% endfor %}
        </div>
        <div>
          {{ form.password.label(class="sr-only") }} {{
          form.password(class="appearance-none rounded-none relative block
          w-full px-3 py-2 border border-gray-300 placeholder-gray-500
          text-gray-900 rounded-b-md focus:outline-none focus:ring-green-500
          focus:border-green-500 focus:z-10 sm:text-sm", placeholder="Password")
          }} {% for error in form.password.errors %}
          <p class="mt-2 text-sm text-red-600">{{ error }}</p>
          {% endfor %}
        </div>
      </div>

      <div class="flex items-center justify-between">
        <div class="flex items-center">
          {{ form.remember_me(class="h-4 w-4 text-green-600 focus:ring-green-500
          border-gray-300 rounded") }} {{ form.remember_me.label(class="ml-2
          block text-sm text-gray-900") }}
        </div>

        <div class="text-sm">
          <a
            href="{{ url_for('auth.reset_password_request') }}"
            class="font-medium text-green-600 hover:text-green-500"
          >
            Forgot your password?
          </a>
        </div>
      </div>

      <div>
        <button
          type="submit"
          class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"
        >
          <span class="absolute left-0 inset-y-0 flex items-center pl-3">
            <i
              data-lucide="log-in"
              class="h-5 w-5 text-green-300 group-hover:text-green-200"
            ></i>
          </span>
          Sign in
        </button>
      </div>
    </form>

    <div class="text-center text-sm text-gray-600">
      <p>
        Don't have an account?
        <a
          href="{{ url_for('auth.register') }}"
          class="font-medium text-green-600 hover:text-green-500"
        >
          Register here
        </a>
      </p>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    lucide.createIcons();
  });
</script>
{% endblock %}
